<!-- slide-screen-new.component.html -->
<div class="slide-screen">
    <div class="slide-content">
      <button class="navigation-button prev" (click)="handlePrevious()">
        <img [src]="'assets/white_arrow.png'" 
             alt="Previous" 
             class="rotate">
      </button>
  
      <div class="slide-main">
        <div class="header">
          <div class="header-info">
            <img *ngIf="data.details[currentGroupIndex]?.thumbnail"
                 [src]="data.details[currentGroupIndex].thumbnail"
                 alt="Thumbnail"
                 class="header-thumbnail">
            <p class="header-name">{{data.details[currentGroupIndex]?.name}}</p>
          </div>
  
          <div class="header-controls">
            <button class="control-button" (click)="togglePause()">
              <img [src]="isPaused ? 'assets/play_image.png' : 'assets/pause_image.png'"
                   [alt]="isPaused ? 'Play' : 'Pause'">
            </button>
            <button class="control-button" (click)="close()">
              <img src="assets/close_image.png" 
                   alt="Close" 
                   class="close">
            </button>
          </div>
        </div>
  
        <div class="slide-view">
          <div class="progress-bar">
            <div *ngFor="let item of content; let idx = index"
                 class="progress-segment">
              <div class="progress-fill"
                   [style.width]="current === idx 
                     ? progress + '%' 
                     : content[idx].finish 
                       ? '100%' 
                       : '0%'">
              </div>
            </div>
          </div>
  
          <div *ngIf="!isContentReady" class="loader">
            <img src="assets/Loader.gif" alt="Loading">
          </div>
  
          <img *ngIf="content[current]?.image"
               [src]="content[current].image"
               (load)="onImageLoaded()"
               class="slide-media"
               alt="Story Slide">
  
          <video #videoElement
                 *ngIf="content[current]?.video"
                 [src]="content[current].video"
                 class="slide-media"
                 autoplay
                 (loadedmetadata)="onVideoLoaded($event)"
                 (ended)="handleNext()">
          </video>
  
          <div *ngIf="content[current]?.link && content[current]?.button_text"
               class="slide-link">
            <a [href]="content[current].link"
               target="_blank"
               rel="noopener noreferrer"
               class="link-button"
               (click)="sendClick()"
               >
              {{content[current].button_text}}
            </a>
          </div>
        </div>
      </div>
  
      <button class="navigation-button next" (click)="handleNext()">
        <img src="assets/white_arrow.png" alt="Next">
      </button>
    </div>
  </div>