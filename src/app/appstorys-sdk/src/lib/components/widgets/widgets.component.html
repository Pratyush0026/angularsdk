<div
  class="carousel-container"
  (touchstart)="onTouchStart($event)"
  (touchmove)="onTouchMove($event)"
  (touchend)="onTouchEnd()"
>
  <div
    class="carousel"
    [style.transform]="'translateX(' + translateX + '%)'"
    [style.transition]="transition"
  >
    <!-- Duplicate last item for seamless looping -->
    <div class="carousel-item" *ngIf="items.length > 0">
      <img 
        #carouselImage
        [src]="items[items.length - 1]" 
        alt="Carousel item" 
        (click)="trackClicks()"
      />
    </div>

    <!-- Original items -->
    <div class="carousel-item" *ngFor="let item of items">
      <img 
        #carouselImage
        [src]="item" 
        alt="Carousel item" 
        (click)="trackClicks()"
      />
    </div>

    <!-- Duplicate first item for seamless looping -->
    <div class="carousel-item" *ngIf="items.length > 0">
      <img 
        #carouselImage
        [src]="items[0]" 
        alt="Carousel item" 
        (click)="trackClicks()"
      />
    </div>
  </div>

  <!-- Control arrows (hidden on smaller screens) -->
  <button class="nav-btn prev" (click)="prevSlide()" *ngIf="!isMobileView">&#10094;</button>
  <button class="nav-btn next" (click)="nextSlide()" *ngIf="!isMobileView">&#10095;</button>

  <!-- Dots indicator -->
  <div class="dots-container">
    <span
      class="dot"
      *ngFor="let item of items; let i = index"
      [class.active]="getCurrentSlideIndex() === i"
    ></span>
  </div>
</div>